{% extends "layouts/main.html" %}
{% block header %}
<header class="govuk-header dwp-header" data-module="govuk-header">
  <div class="govuk-width-container ">
  <a href="../index.html" class="govuk-header__link govuk-header__service-name dwp-header__container--service-name">
     ARA Appointments
  </a>
  </div>
  </header>
{% endblock %}


{% block pageTitle %}
Booked assessments - GOV.UK prototype
{% endblock %}



{% block content %}


<div class="govuk-grid-row" style="margin-top: -40px;">
  <div class="govuk-grid-column-full">




<div class="govuk-width-container ">

<!-- <a href="start" class="govuk-back-link">Back</a> -->
<a class="govuk-back-link docs-creator" href="../february-sprint/booked-location1">Back</a>

<main class="govuk-main-wrapper govuk-main-wrapper--auto-spacing govuk-width-container--extended" id="main-content" role="main">
  
  <div class="govuk-grid-row">
    <div class="govuk-grid-column-one-quarter">
      <h2 class="govuk-heading-m govuk-!-Marchgin-bottom-5">
        Filters
      </h2>
      <div id="filter-hint" class="govuk-hint govuk-!-Marchgin-bottom-4">
        Select one or more filters to apply to the list.
      </div>
      <div class="table-filter">
  <form id="filters">
  
  
 
  
  


  

  <div class="govuk-form-group">
  
    <fieldset class="govuk-fieldset">
    
    <legend class="govuk-fieldset__legend govuk-fieldset__legend--s">  
    Appointment type
    </legend>
    
  
    <div class="govuk-checkboxes govuk-checkboxes--small" data-module="govuk-checkboxes">
       
      <div class="govuk-checkboxes__item">
        <input class="govuk-checkboxes__input" id="handsworth" name="assessment-centre" type="checkbox" value="handsworth">
        <label class="govuk-label govuk-checkboxes__label" for="handsworth">
        Telephone (9)
        </label>
      </div>
              
      <div class="govuk-checkboxes__item">
        <input class="govuk-checkboxes__input" id="tresco" name="assessment-centre" type="checkbox" value="tresco">
        <label class="govuk-label govuk-checkboxes__label" for="tresco">
        Face to face (1)
        </label>
      </div>

    </div>
    
    </fieldset>
    
  </div>


 


  <div class="govuk-form-group">
  
    <fieldset class="govuk-fieldset">
    
    <legend class="govuk-fieldset__legend govuk-fieldset__legend--s">  
    Date of appointment
    </legend>
    
  
    <div class="govuk-checkboxes govuk-checkboxes--small" data-module="govuk-checkboxes">
       
      <div class="govuk-form-group">
        <fieldset class="govuk-fieldset" role="group" aria-describedby="dob-hint">
         
          <div id="dob-hint" class="govuk-hint">
            For example, 15 3 2023
          </div>
          <div class="govuk-date-input" id="dob">
            <div class="govuk-date-input__item">
              <div class="govuk-form-group">
                <label class="govuk-label govuk-date-input__label" for="dob-day">
                  Day
                </label>
                <input class="govuk-input govuk-date-input__input govuk-input--width-2" id="dob-day" name="dob-day" type="text" autocomplete="bday-day" inputmode="numeric">
              </div>
            </div>
            <div class="govuk-date-input__item">
              <div class="govuk-form-group">
                <label class="govuk-label govuk-date-input__label" for="dob-month">
                  Month
                </label>
                <input class="govuk-input govuk-date-input__input govuk-input--width-2" id="dob-month" name="dob-month" type="text" autocomplete="bday-month" inputmode="numeric">
              </div>
            </div>
            <div class="govuk-date-input__item">
              <div class="govuk-form-group">
                <label class="govuk-label govuk-date-input__label" for="dob-year">
                  Year
                </label>
                <input class="govuk-input govuk-date-input__input govuk-input--width-4" id="dob-year" name="dob-year" type="text" autocomplete="bday-year" inputmode="numeric">
              </div>
            </div>
          </div>
        </fieldset>
      </div>

    </div>
    
    </fieldset>
    
  </div>

  <button class="govuk-button govuk-button--secondary govuk-!-Marchgin-bottom-8">Apply filters</button>

  </form>
  
  
  
  </div>
</div>
    <div class="govuk-grid-column-three-quarters">

      

  
      <h1 class="govuk-heading-l">
       Booked appointments    
      </h1>

      {%- from "govuk/components/table/macro.njk" import govukTable -%}

{{ govukTable({
  attributes: {
    'data-module': 'moj-sortable-table'
  },
  head: [
    {
      text: "Name",
      attributes: {
        "aria-sort": "ascending"
      }
    },
    {
      text: "Elevation",
      attributes: {
        "aria-sort": "none"
      }
    },
    {
      text: "Continent",
      attributes: {
        "aria-sort": "none"
      }
    },
    {
      text: "First summit",
      attributes: {
        "aria-sort": "none"
      },
      format: "numeric"
    }
  ],
  rows: [
    [
      {
        text: "Aconcagua"
      },
      {
        text: "6,961 meters",
        attributes: {
          "data-sort-value": "6961"
        }
      },
      {
        text: "South America"
      },
      {
        text: "1897",
        format: "numeric",
        attributes: {
          "data-sort-value": "1897"
        }
      }
    ],
    [
      {
        text: "Denali"
      },
      {
        text: "6,194 meters",
        attributes: {
          "data-sort-value": "6194"
        }
      },
      {
        text: "North America"
      },
      {
        text: "1913",
        format: "numeric",
        attributes: {
          "data-sort-value": "1913"
        }
      }
    ],
    [
      {
        text: "Elbrus"
      },
      {
        text: "5,642 meters",
        attributes: {
          "data-sort-value": "5642"
        }
      },
      {
        text: "Europe"
      },
      {
        text: "1874",
        format: "numeric",
        attributes: {
          "data-sort-value": "1874"
        }
      }
    ],
    [
      {
        text: "Everest"
      },
      {
        text: "8,850 meters",
        attributes: {
          "data-sort-value": "8850"
        }
      },
      {
        text: "Asia"
      },
      {
        text: "1953",
        format: "numeric",
        attributes: {
          "data-sort-value": "1953"
        }
      }
    ],
    [
      {
        text: "Kilimanjaro"
      },
      {
        text: "5,895 meters",
        attributes: {
          "data-sort-value": "5895"
        }
      },
      {
        text: "Africa"
      },
      {
        text: "1889",
        format: "numeric",
        attributes: {
          "data-sort-value": "1889"
        }
      }
    ],
    [
      {
        text: "Puncak Jaya"
      },
      {
        text: "4,884 meters",
        attributes: {
          "data-sort-value": "4884"
        }
      },
      {
        text: "Australia"
      },
      {
        text: "1962",
        format: "numeric",
        attributes: {
          "data-sort-value": "1962"
        }
      }
    ],
    [
      {
        text: "Vinson"
      },
      {
        text: "4,897 meters",
        attributes: {
          "data-sort-value": "4897"
        }
      },
      {
        text: "Antarctica"
      },
      {
        text: "1966",
        format: "numeric",
        attributes: {
          "data-sort-value": "1966"
        }
      }
    ]
  ]
}) }}
  
      
         

         
         

       
  
      <nav class="moj-pagination" aria-label="Pagination navigation" style="text-align: right;">
      
        <p class="moj-pagination__results">Showing <b>1</b> to <b>10</b> of <b>10</b> appointments</p>
      </nav>
  
  
    </div>
  </div>
  
  <script>
  
    function hideAllWithClass(classname) {
      document.querySelectorAll("." + classname).forEach((element) => {
        element.style.visibility = 'collapse';
      });
    }
  
    function showAllWithClass(classname) {
      document.querySelectorAll("." + classname).forEach((element) => {
        element.style.visibility = 'visible';
      });
    }
  
    document.querySelector("#filters").addEventListener("submit", function (e) {
  
      e.preventDefault();    //stop form from submitting
  
      showAllWithClass("esa");
      showAllWithClass("pip");
      showAllWithClass("uc");
      showAllWithClass("tresco");
      showAllWithClass("handsworth");
      showAllWithClass("srel");
      showAllWithClass("no-srel");
  
      let benefitTypes = [];
      let sites = [];
  
      if (document.getElementById('srel').checked == true) {
        hideAllWithClass("no-srel");
      }
  
      if (document.getElementById('pip').checked == true || document.getElementById('esa').checked == true || document.getElementById('uc').checked == true) {
        if (document.getElementById('pip').checked == false) {
          hideAllWithClass("pip");
        } else {
          benefitTypes.push("Personal Independence Payment");
        }
  
        if (document.getElementById('esa').checked == false) {
          hideAllWithClass("esa");
        } else {
          benefitTypes.push("Employment Support Allowance");
        }
  
        if (document.getElementById('uc').checked == false) {
          hideAllWithClass("uc");
        } else {
          benefitTypes.push("Universal Credit");
        }
      }
  
      if (document.getElementById('handsworth').checked == true || document.getElementById('tresco').checked == true) {
        if (document.getElementById('handsworth').checked == false) {
          hideAllWithClass("handsworth");
        } else {
          sites.push("Handsworth");
        }
  
        if (document.getElementById('tresco').checked == false) {
          hideAllWithClass("tresco");
        } else {
          sites.push('Tresco');
        }
      }
  
      var count = 0;
      var elemnts = document
        .querySelectorAll('.govuk-table tr').forEach((element) => {
          if (element.style.visibility === 'visible') {
            count += 1;
          }
        })
  
      if (count < 20) {
        document.getElementById('pagination').style.visibility = 'collapse';
      } else {
        document.getElementById('pagination').style.visibility = 'visible';
      }
  
      document.getElementById('paginationTotal').innerText = count;
  
      // var eol = document.getElementById('srel').checked ? " end of life" : "";
      // var benefitTypeString = benefitTypes.join(", ");
      // var sitesString = sites.join(", ");
      // var ifBenefitType = benefitTypes.length > 0 ? ' for ' : '';
      // var ifSites = sites.length > 0 ? ' at ' : '';
  
      //11 HCP review end of life referrals in PIP, ESA, UC at Birmingham Handsworth
      // var text = count + " report ready " + eol + " referrals " + ifBenefitType + benefitTypeString + ifSites + sitesString;
      var text = count + " referrals";
  
      document.getElementById('filter-playback').innerText = text;
  
      // document.getElementById('srelCount').innertext = document.querySelectorAll('.govuk-table tr.srel').length;
  
    });
  
  </script>
  
  
</main>
</div>


{% endblock %}